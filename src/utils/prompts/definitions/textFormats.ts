/**
 * @fileoverview 文本格式规范（无限流）
 */

export const TEXT_FORMAT_MARKERS = `
[文本格式标记]
允许标记:环境【...】|NPC内心\`...\`|对话"..."|判定〔...〕|其余纯文本
符号用途:【】环境与镜头;〔〕判定结果
示例:【警报红灯闪烁,走廊广播重复倒计时】;〔侦查:成功,判定值:58,难度:45〕
严禁:Markdown格式|星号*|下划线_|井号#|三反引号
`.trim();

export const DICE_ROLLING_RULES = `
[判定系统]
定位:AI是主神规则执行者,客观裁定,不偏袒主角

[判定格式]
格式:〔类型:结果,判定值:数字,难度:数字,关键因素〕
示例:〔战斗:成功,判定值:52,难度:45,队伍协同+地形掩体〕
禁止:占位符|省略关键字段

[反作弊]
检验:同条件下换成普通轮回者结果是否一致
禁止:主角光环救场|敌人无故降智|失败无代价|编造不存在加成

[基础公式]
最终判定值 = 属性加权 + 等级修正 + 状态修正 + 环境修正 + 随机波动
属性建议:
- 战斗/压制: STR×0.5 + PER×0.2 + WIL×0.3
- 侦查/潜入: PER×0.5 + INT×0.3 + LUK×0.2
- 谈判/威慑: CHA×0.5 + INT×0.3 + WIL×0.2
- 技术/解谜: INT×0.6 + PER×0.2 + WIL×0.2
- 精神抗性: WIL×0.6 + INT×0.2 + CHA×0.2

[等级修正]
D=0 | C=8 | B=16 | A=26 | S=38 | SS=52 | SSS=68
星级修正:1星+0|2星+2|3星+5|4星+9|5星+14
对抗差修正:+3级+30|+2级+20|+1级+10|同级0|-1级-10|-2级-22|-3级自动失败

[难度与结果]
难度基准:极易10|简单20|普通35|困难50|艰难70|极难90|地狱110+
结果判定:
- 大失败: 判定值 < 难度-15
- 失败: 判定值 < 难度
- 成功: 判定值 ≥ 难度
- 大成功: 判定值 ≥ 难度+15
- 完美: 判定值 ≥ 难度+30

[结果代价]
大失败:重伤/资源重损/任务倒退/关系恶化
失败:轻伤/资源消耗/收益下降
成功:达成目标
大成功:额外收益/支线推进/关系提升
完美:关键突破/隐藏目标触发

[何时必须判定]
战斗攻防|危险探索|关键交涉|潜入逃脱|解谜拆解|资源争夺
无需判定:纯叙事过场|结果已确定的日常行为
`.trim();

export const COMBAT_DAMAGE_RULES = `
[战斗伤害]
攻击值 = (STR×1.2 + PER×0.6 + 等级系数) + 装备/能力加成
防御值 = (WIL×0.9 + STR×0.6 + 等级系数) + 护甲/掩体加成
实际伤害 = 攻击值 - 防御值 (最低为1)
等级系数:D1|C2|B4|A7|S11|SS16|SSS22
说明:EP用于能力消耗,MP用于精神类能力消耗,HP归零视为濒死/淘汰
`.trim();

export const NAMING_CONVENTIONS = `
[命名约定]
物品ID: item_时间戳_随机串
地点路径: 世界区块·功能区·具体点位
能力ID: ability_分支_功能
评分字段: D/C/B/A/S/SS/SSS + 星级(1-5)
`.trim();
